<div class="admin-container">
<h1><%%= t(:listing, :default => "Listing {{model}}", :model => <%= model_name %>.human_name(:count => 2), :scope => [:railties, :scaffold]) %></h1>

<div class="admin-control">
  <div class="item-new"><%%= link_to t(:new_record, :default => "New {{model}}", :model => <%= model_name %>.human_name, :scope => [:railties, :scaffold]), new_<%= singular_route %> %></div>
</div>

<% if options[:use_ajax] %><div id="admin-ajax-container">
<%%= render :partial => "table" -%>
<!-- BEGIN cut and paste to _table.html.erb  --><% end -%>
<%% content_for :pagination do -%>
<%% if @search.page_count > 1 -%>
<%%= <% if options[:use_ajax] %>remote_<% end %>pagination_links %>
<%% end -%>
<%% end -%>

<%% <% if options[:use_ajax] %>remote_<% end %>form_for(@search<% if nested_routes? %>, :url => <%= plural_route %><% end %>) do |f| %>
<div class="admin-top">
<%%= yield :pagination -%>
</div>

<div class="admin-main">
<%%= searchlogic_state %>
<table class="admin-table-list">
  <thead>
    <tr class="heading">
<% list_attributes.each do |attribute| -%>
      <th class="<%%= cute_admin_ordered_full_class(<%= attribute.order_by %>) %>"><%%= <% if options[:use_ajax] %>remote_<% end %>order_by_link(<%= attribute.order_by %>, {:text => <%= attribute.display_name %>}) %></th>
<% end -%>
      <th colspan="4"><%%= link_to<% if options[:use_ajax] %>_remote<% end %> t(:default_view, :default => "Default view", :scope => [:railties, :scaffold]), <% if options[:use_ajax] %>:method => :get, :url => <% end %><%= plural_route %> %></th>
    </tr>

<%% f.fields_for @search.conditions do |<%= plural_name %>| -%>
    <tr class="filters">
<% list_attributes.each do |attribute| -%>
      <td class="<%%= cute_admin_ordered_full_class(<%= attribute.order_by %>) %>"><%= attribute.searchlogic_field(plural_name) %></td>
<% end -%>
      <td class="item-filter-button" colspan="4"><%%= f.submit t(:filter, :default => 'Filter', :scope => [:railties, :scaffold]), :id => nil %></td>
    </tr>
<%% end -%>
  </thead>

  <tbody>
<%% @<%= plural_name %>.each do |<%= singular_name %>| %>
    <tr class="<%%= cycle("light", "dark") %>">
<% list_attributes.each do |attribute| -%>
      <td class="<%= attribute.column_class %><%%= cute_admin_ordered_class(<%= attribute.order_by %>) %>"><%%= <%= attribute.formatted_value("#{singular_name}") %> %></td>
<% end -%>
      <td class="item-show"><%%= link_to t(:show, :default => 'Show', :scope => [:railties, :scaffold]), <% if nested_routes? %><%= singular_route %>(<%= singular_name %>)<% else %><%= singular_name %><% end %> %></td>
      <td class="item-edit"><%%= link_to t(:edit, :default => 'Edit', :scope => [:railties, :scaffold]), edit_<%= singular_route %>(<%= singular_name %>) %></td>
      <td class="item-destroy"><%%= link_to t(:destroy, :default => 'Destroy', :scope => [:railties, :scaffold]), <% if nested_routes? %><%= singular_route %>(<%= singular_name %>)<% else %><%= singular_name %><% end %>, :confirm => t(:destroy_confirmation, :default => 'Are you sure?', :record => <%= singular_name %>.display_name, :scope => [:railties, :scaffold]), :method => :delete %></td>
    </tr>
<%% end -%>
  </tbody>
</table>
</div>

<div class="admin-bottom">
<%%= yield :pagination -%>
<div class="admin-per-page"><%%= t(:per_page, :default => 'Per page', :scope => [:railties, :scaffold]) %>: <%%= <% if options[:use_ajax] %>remote_<% end %>per_page_select %></div>
<div class="admin-total-pages"><%%= t(:total, :default => 'Total', :scope => [:railties, :scaffold]) %>: <%%= @<%= plural_name %>_count %></div>
</div>
<%% end %>
<% if options[:use_ajax] %><!-- END cut and paste to _table.html.erb  -->
</div><% end -%>
</div>